{"version":3,"sources":["components/Article/Article.module.css","components/Cast/Cast.module.css","components/Reviews/Reviews.module.css","components/NotFound/NotFound.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css","components/Article/Article.jsx","components/Cast/Cast.jsx","components/NotFound/NotFound.jsx","components/Reviews/Reviews.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/server.js","js/mapper.js"],"names":["module","exports","Article","posterPath","title","userScore","overview","genres","onGoBack","className","styles","articleWrapper","type","onClick","button","icon","faAngleLeft","article","src","alt","articleImg","articleDescription","Cast","state","cast","id","this","props","API","then","data","setState","castMapper","slice","window","scrollTo","top","document","documentElement","scrollHeight","behavior","castList","map","name","character","profilePath","key","castListItem","width","height","Component","NotFound","notFoundBlock","Reviews","reviews","reviewsMapper","results","length","reviewsList","author","content","reviewsListItem","reviewsListTitle","reviewsListContent","getIdFromProps","match","params","movieId","MovieDetailsPage","handleGoBack","history","location","from","push","articleMapper","detailsList","detailsItem","to","pathname","url","routes","CAST","path","activeClassName","detailsLinkActive","detailsLink","REVIEW","render","axios","defaults","baseURL","KEY","getArticles","get","getSearchArticles","query","getArticlesById","getArticleReview","getArticleCredits","apiImgPath","item","poster_path","popularity","join","listMapper","items","backdropPath","backdrop_path","profile_path"],"mappings":"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","file":"static/js/show-details-page.416712d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"articleWrapper\":\"Article_articleWrapper__2hsEi\",\"article\":\"Article_article__cerVz\",\"button\":\"Article_button__3hrem\",\"articleImg\":\"Article_articleImg__2IjD1\",\"icon\":\"Article_icon__dRzhn\",\"articleDescription\":\"Article_articleDescription__7yTpP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"castList\":\"Cast_castList__1G7q-\",\"castListItem\":\"Cast_castListItem__24A7u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewsList\":\"Reviews_reviewsList__3Jf5C\",\"reviewsListTitle\":\"Reviews_reviewsListTitle__2352z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notFoundBlock\":\"NotFound_notFoundBlock__zqNCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsList\":\"MovieDetailsPage_detailsList__Bb5CC\",\"detailsItem\":\"MovieDetailsPage_detailsItem__2vji9\",\"detailsLink\":\"MovieDetailsPage_detailsLink__radhR\",\"detailsLinkActive\":\"MovieDetailsPage_detailsLinkActive__3hhFV\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleLeft } from '@fortawesome/free-solid-svg-icons';\nimport styles from './Article.module.css';\n\nconst Article = ({\n  posterPath,\n  title,\n  userScore,\n  overview,\n  genres,\n  onGoBack,\n}) => (\n  <div className={styles.articleWrapper}>\n    <button type=\"button\" onClick={onGoBack} className={styles.button}>\n      <FontAwesomeIcon icon={faAngleLeft} className={styles.icon} /> Go back\n    </button>\n    <div className={styles.article}>\n      <img src={posterPath} alt=\"film-banner\" className={styles.articleImg} />\n      <div className={styles.articleDescription}>\n        <h2>{title}</h2>\n        <span>Score: {userScore}</span>\n        <div className=\"\">\n          <h3>Overview</h3>\n          <p>{overview}</p>\n        </div>\n        <div className=\"\">\n          <h3>Genres</h3>\n          <p>{genres}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nArticle.propTypes = {\n  posterPath: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  userScore: PropTypes.number.isRequired,\n  overview: PropTypes.string.isRequired,\n  genres: PropTypes.string.isRequired,\n  onGoBack: PropTypes.func.isRequired,\n};\n\nexport default Article;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as API from '../../services/server';\nimport { castMapper } from '../../js/mapper';\nimport styles from './Cast.module.css';\n\nclass Cast extends Component {\n  state = {\n    cast: null,\n  };\n\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    const { id } = this.props;\n    API.getArticleCredits(id).then(({ data }) =>\n      this.setState({ cast: castMapper(data.cast.slice(0, 8)) }),\n    );\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  render() {\n    const { cast } = this.state;\n    return (\n      <ul className={styles.castList}>\n        {cast &&\n          cast.map(({ name, id, character, profilePath }) => (\n            <li key={id} className={styles.castListItem}>\n              <img src={profilePath} alt=\"profile\" width=\"100\" height=\"150\" />\n              <span>Actor: {name}</span>\n              <span>Character: {character}</span>\n            </li>\n          ))}\n      </ul>\n    );\n  }\n}\n\nexport default Cast;\n","import React from 'react';\nimport styles from './NotFound.module.css';\n\nconst NotFound = () => {\n  return <div className={styles.notFoundBlock}>Reviws not found</div>;\n};\n\nexport default NotFound;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as API from '../../services/server';\nimport styles from './Reviews.module.css';\nimport { reviewsMapper } from '../../js/mapper';\nimport NotFound from '../NotFound/NotFound';\n\nclass Reviews extends Component {\n  state = {\n    reviews: null,\n  };\n\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    const { id } = this.props;\n    API.getArticleReview(id).then(({ data }) =>\n      this.setState({ reviews: reviewsMapper(data.results) }),\n    );\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  render() {\n    const { reviews } = this.state;\n    return (\n      <>\n        {reviews && reviews.length ? (\n          <ul className={styles.reviewsList}>\n            {reviews.map(({ author, content, id }) => (\n              <li key={id} className={styles.reviewsListItem}>\n                <span className={styles.reviewsListTitle}>\n                  Author: {author}\n                </span>\n                <p className={styles.reviewsListContent}>{content}</p>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <NotFound />\n        )}\n      </>\n    );\n  }\n}\n\nexport default Reviews;\n","import React, { Component } from 'react';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport { NavLink, Route, Switch } from 'react-router-dom';\nimport { articleMapper } from '../../js/mapper';\nimport * as API from '../../services/server';\nimport Article from '../../components/Article/Article';\nimport Cast from '../../components/Cast/Cast';\nimport Reviews from '../../components/Reviews/Reviews';\nimport routes from '../../routes/routes';\nimport styles from './MovieDetailsPage.module.css';\n\nconst getIdFromProps = props => props.match.params.movieId;\n\nclass MovieDetailsPage extends Component {\n  state = { article: null };\n\n  static propTypes = {\n    history: ReactRouterPropTypes.history.isRequired,\n    location: ReactRouterPropTypes.location.isRequired,\n    match: ReactRouterPropTypes.match.isRequired,\n  };\n\n  componentDidMount() {\n    const id = getIdFromProps(this.props);\n    API.getArticlesById(id).then(({ data }) =>\n      this.setState({ article: articleMapper(data) }),\n    );\n  }\n\n  handleGoBack = () => {\n    const { history, location } = this.props;\n    if (location.state && location.state.from) {\n      history.push({ ...location.state.from });\n      return;\n    }\n    history.push('/movies');\n  };\n\n  render() {\n    const { article } = this.state;\n    const { match } = this.props;\n    const id = getIdFromProps(this.props);\n    return (\n      <>\n        {// eslint-disable-next-line react/jsx-props-no-spreading\n        article && <Article onGoBack={this.handleGoBack} {...article} />}\n        <ul className={styles.detailsList}>\n          <li className={styles.detailsItem}>\n            <NavLink\n              to={{\n                pathname: `${match.url}${routes.CAST.path}`,\n                // state: { from: { ...location } },\n              }}\n              activeClassName={styles.detailsLinkActive}\n              className={styles.detailsLink}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li className={styles.detailsItem}>\n            <NavLink\n              to={{\n                pathname: `${match.url}${routes.REVIEW.path}`,\n                // state: { from: { ...location } },\n              }}\n              activeClassName={styles.detailsLinkActive}\n              className={styles.detailsLink}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n        <Switch>\n          <Route\n            path={`${match.url}${routes.CAST.path}`}\n            // eslint-disable-next-line react/jsx-props-no-spreading\n            render={props => <Cast {...props} id={id} />}\n          />\n          <Route\n            path={`${match.url}${routes.REVIEW.path}`}\n            // eslint-disable-next-line react/jsx-props-no-spreading\n            render={props => <Reviews {...props} id={id} />}\n          />\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst KEY = '5a24b7189a6caa5f12a9aa4d37534986';\n\nexport const getArticles = () => {\n  const url = `/3/trending/all/day?api_key=${KEY}`;\n  return axios.get(url);\n};\nexport const getSearchArticles = query => {\n  const url = `/3/search/movie?api_key=${KEY}&language=en-US&page=1&query=${query}`;\n  return axios.get(url);\n};\n\nexport const getArticlesById = id => {\n  const url = `/3/movie/${id}?api_key=${KEY}&language=en-US`;\n  return axios.get(url);\n};\nexport const getArticleReview = id => {\n  const url = `/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`;\n  return axios.get(url);\n};\nexport const getArticleCredits = id => {\n  const url = `/3/movie/${id}/credits?api_key=${KEY}`;\n  return axios.get(url);\n};\n","const apiImgPath = 'https://image.tmdb.org/t/p/w400/';\n\nexport const articleMapper = item => {\n  const {\n    poster_path: posterPath,\n    title,\n    popularity: userScore,\n    overview,\n    genres,\n  } = item;\n  return {\n    posterPath: apiImgPath + posterPath,\n    title,\n    userScore,\n    overview,\n    genres: genres.map(({ name }) => name).join('  '),\n  };\n};\n\nexport const listMapper = items => {\n  const emptyBackdrop =\n    'http://davidsonfilmclub.com/wp-content/uploads/2017/06/Films-Hero-1260x600.jpg';\n  return items.map(({ id, title, name, backdrop_path: backdropPath }) => ({\n    id,\n    title,\n    name,\n    backdropPath: backdropPath ? apiImgPath + backdropPath : emptyBackdrop,\n  }));\n};\n\nexport const castMapper = items => {\n  const emptyProfile =\n    'https://stempel.fiu.edu/wp-content/uploads/sites/75/2017/12/profile-empty.png';\n  return items.map(({ id, profile_path: profilePath, name, character }) => ({\n    id,\n    profilePath: profilePath ? apiImgPath + profilePath : emptyProfile,\n    name,\n    character,\n  }));\n};\n\nexport const reviewsMapper = items => {\n  return items.map(({ id, author, content }) => ({\n    id,\n    author,\n    content: content.length > 700 ? `${content.slice(0, 500)}...` : content,\n  }));\n};\n"],"sourceRoot":""}