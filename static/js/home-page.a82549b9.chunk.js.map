{"version":3,"sources":["pages/HomePage/HomePage.jsx","services/server.js","js/mapper.js","components/ArticleList/ArticleList.jsx","components/ArticleList/ArticleList.module.css"],"names":["HomePage","state","articles","fetchArticles","API","then","data","setState","listMapper","results","this","items","Component","axios","defaults","baseURL","KEY","getArticles","url","get","getSearchArticles","query","getArticlesById","id","getArticleReview","getArticleCredits","apiImgPath","articleMapper","item","posterPath","poster_path","title","userScore","popularity","overview","genres","map","name","join","backdropPath","backdrop_path","castMapper","profilePath","profile_path","character","reviewsMapper","author","content","length","slice","withRouter","location","match","className","styles","articleList","key","articleListItem","to","pathname","routes","MOVIES_PAGE","path","from","prevPage","articleListLink","articleListTitle","src","alt","width","height","articleListImage","inner","module","exports"],"mappings":"kMAKMA,E,2MACJC,MAAQ,CACNC,SAAU,M,EAOZC,cAAgB,WACdC,MAAkBC,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACrB,EAAKC,SAAS,CAAEL,SAAUM,YAAWF,EAAKG,e,mFAL5CC,KAAKP,kB,+BASG,IACAD,EAAaQ,KAAKT,MAAlBC,SACR,OAAO,oCAAGA,GAAY,kBAAC,IAAD,CAAaS,MAAOT,S,GAjBvBU,aAqBRZ,a,gCC1Bf,+LAEAa,IAAMC,SAASC,QAAU,6BACzB,IAAMC,EAAM,mCAECC,EAAc,WACzB,IAAMC,EAAG,sCAAkCF,GAC3C,OAAOH,IAAMM,IAAID,IAENE,EAAoB,SAAAC,GAC/B,IAAMH,EAAG,kCAA8BF,EAA9B,wCAAiEK,GAC1E,OAAOR,IAAMM,IAAID,IAGNI,EAAkB,SAAAC,GAC7B,IAAML,EAAG,mBAAeK,EAAf,oBAA6BP,EAA7B,mBACT,OAAOH,IAAMM,IAAID,IAENM,EAAmB,SAAAD,GAC9B,IAAML,EAAG,mBAAeK,EAAf,4BAAqCP,EAArC,0BACT,OAAOH,IAAMM,IAAID,IAENO,EAAoB,SAAAF,GAC/B,IAAML,EAAG,mBAAeK,EAAf,4BAAqCP,GAC9C,OAAOH,IAAMM,IAAID,K,gCCxBnB,4IAAMQ,EAAa,mCAENC,EAAgB,SAAAC,GAAS,IAErBC,EAKXD,EALFE,YACAC,EAIEH,EAJFG,MACYC,EAGVJ,EAHFK,WACAC,EAEEN,EAFFM,SACAC,EACEP,EADFO,OAEF,MAAO,CACLN,WAAYH,EAAaG,EACzBE,QACAC,YACAE,WACAC,OAAQA,EAAOC,KAAI,qBAAGC,QAAiBC,KAAK,QAInC9B,EAAa,SAAAG,GAGxB,OAAOA,EAAMyB,KAAI,gBAAGb,EAAH,EAAGA,GAAIQ,EAAP,EAAOA,MAAOM,EAAd,EAAcA,KAAqBE,EAAnC,EAAoBC,cAApB,MAAuD,CACtEjB,KACAQ,QACAM,OACAE,aAAcA,EAAeb,EAAaa,EAL1C,sFASSE,EAAa,SAAA9B,GAGxB,OAAOA,EAAMyB,KAAI,gBAAGb,EAAH,EAAGA,GAAkBmB,EAArB,EAAOC,aAA2BN,EAAlC,EAAkCA,KAAMO,EAAxC,EAAwCA,UAAxC,MAAyD,CACxErB,KACAmB,YAAaA,EAAchB,EAAagB,EAHxC,gFAIAL,OACAO,iBAISC,EAAgB,SAAAlC,GAC3B,OAAOA,EAAMyB,KAAI,gBAAGb,EAAH,EAAGA,GAAIuB,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,MAA8B,CAC7CxB,KACAuB,SACAC,QAASA,EAAQC,OAAS,IAAjB,UAA0BD,EAAQE,MAAM,EAAG,KAA3C,OAAuDF,Q,orBCJrDG,iBAlCK,SAAC,GAAgC,IAA9BvC,EAA6B,EAA7BA,MAAOwC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACtC,OACE,wBAAIC,UAAWC,IAAOC,aACnB5C,EAAMyB,KAAI,gBAAGb,EAAH,EAAGA,GAAIQ,EAAP,EAAOA,MAAOM,EAAd,EAAcA,KAAME,EAApB,EAAoBA,aAApB,OACT,wBAAIiB,IAAKjC,EAAI8B,UAAWC,IAAOG,iBAC7B,kBAAC,IAAD,CACEC,GAAI,CACFC,SAAS,GAAD,OAAKC,IAAOC,YAAYC,KAAxB,YAAgCvC,GACxCtB,MAAO,CAAE8D,KAAK,EAAD,GAAOZ,GAAYa,SAAS,EAAD,GAAOZ,KAEjDC,UAAWC,IAAOW,iBAElB,0BAAMZ,UAAWC,IAAOY,kBAAmBnC,GAASM,GACpD,yBACE8B,IAAK5B,EACL6B,IAAI,GACJC,MAAM,MACNC,OAAO,MACPjB,UAAWC,IAAOiB,mBAEpB,yBAAKlB,UAAWC,IAAOkB,kB,mBC1BnCC,EAAOC,QAAU,CAAC,YAAc,iCAAiC,gBAAkB,qCAAqC,iBAAmB,sCAAsC,gBAAkB,qCAAqC,MAAQ,2BAA2B,iBAAmB","file":"static/js/home-page.a82549b9.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport * as API from '../../services/server';\nimport ArticleList from '../../components/ArticleList/ArticleList';\nimport { listMapper } from '../../js/mapper';\n\nclass HomePage extends Component {\n  state = {\n    articles: null,\n  };\n\n  componentDidMount() {\n    this.fetchArticles();\n  }\n\n  fetchArticles = () => {\n    API.getArticles().then(({ data }) =>\n      this.setState({ articles: listMapper(data.results) }),\n    );\n  };\n\n  render() {\n    const { articles } = this.state;\n    return <>{articles && <ArticleList items={articles} />}</>;\n  }\n}\n\nexport default HomePage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst KEY = '5a24b7189a6caa5f12a9aa4d37534986';\n\nexport const getArticles = () => {\n  const url = `/3/trending/all/day?api_key=${KEY}`;\n  return axios.get(url);\n};\nexport const getSearchArticles = query => {\n  const url = `/3/search/movie?api_key=${KEY}&language=en-US&page=1&query=${query}`;\n  return axios.get(url);\n};\n\nexport const getArticlesById = id => {\n  const url = `/3/movie/${id}?api_key=${KEY}&language=en-US`;\n  return axios.get(url);\n};\nexport const getArticleReview = id => {\n  const url = `/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`;\n  return axios.get(url);\n};\nexport const getArticleCredits = id => {\n  const url = `/3/movie/${id}/credits?api_key=${KEY}`;\n  return axios.get(url);\n};\n","const apiImgPath = 'https://image.tmdb.org/t/p/w400/';\n\nexport const articleMapper = item => {\n  const {\n    poster_path: posterPath,\n    title,\n    popularity: userScore,\n    overview,\n    genres,\n  } = item;\n  return {\n    posterPath: apiImgPath + posterPath,\n    title,\n    userScore,\n    overview,\n    genres: genres.map(({ name }) => name).join('  '),\n  };\n};\n\nexport const listMapper = items => {\n  const emptyBackdrop =\n    'http://davidsonfilmclub.com/wp-content/uploads/2017/06/Films-Hero-1260x600.jpg';\n  return items.map(({ id, title, name, backdrop_path: backdropPath }) => ({\n    id,\n    title,\n    name,\n    backdropPath: backdropPath ? apiImgPath + backdropPath : emptyBackdrop,\n  }));\n};\n\nexport const castMapper = items => {\n  const emptyProfile =\n    'https://stempel.fiu.edu/wp-content/uploads/sites/75/2017/12/profile-empty.png';\n  return items.map(({ id, profile_path: profilePath, name, character }) => ({\n    id,\n    profilePath: profilePath ? apiImgPath + profilePath : emptyProfile,\n    name,\n    character,\n  }));\n};\n\nexport const reviewsMapper = items => {\n  return items.map(({ id, author, content }) => ({\n    id,\n    author,\n    content: content.length > 700 ? `${content.slice(0, 500)}...` : content,\n  }));\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport { Link, withRouter } from 'react-router-dom';\nimport styles from './ArticleList.module.css';\nimport routes from '../../routes/routes';\n\nconst ArticleList = ({ items, location, match }) => {\n  return (\n    <ul className={styles.articleList}>\n      {items.map(({ id, title, name, backdropPath }) => (\n        <li key={id} className={styles.articleListItem}>\n          <Link\n            to={{\n              pathname: `${routes.MOVIES_PAGE.path}/${id}`,\n              state: { from: { ...location }, prevPage: { ...match } },\n            }}\n            className={styles.articleListLink}\n          >\n            <span className={styles.articleListTitle}>{title || name}</span>\n            <img\n              src={backdropPath}\n              alt=\"\"\n              width=\"300\"\n              height=\"173\"\n              className={styles.articleListImage}\n            />\n            <div className={styles.inner} />\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nArticleList.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.object).isRequired,\n  location: ReactRouterPropTypes.location.isRequired,\n  match: ReactRouterPropTypes.match.isRequired,\n};\n\nexport default withRouter(ArticleList);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"articleList\":\"ArticleList_articleList__31d9N\",\"articleListItem\":\"ArticleList_articleListItem__ZqATu\",\"articleListImage\":\"ArticleList_articleListImage__1c_-R\",\"articleListLink\":\"ArticleList_articleListLink__2ce4a\",\"inner\":\"ArticleList_inner__2m6vB\",\"articleListTitle\":\"ArticleList_articleListTitle__Ke1eo\"};"],"sourceRoot":""}